views:
  - title: Trello Tasks
    path: trello-tasks
    icon: mdi:view-column
    badges: []
    cards:
      - type: markdown
        content: |
          # ğŸ“‹ Monitored Boards
          Your active Trello boards with all lists and cards
      - type: markdown
        content: >
          {% set board = states['sensor.trello_planetbuilders_house_diy_jobs']
          %}

          {% if board %}

          # ğŸ“Š {{ board.name }}


          **{{ states(board.entity_id) }} Lists** â€¢ **{{
          board.attributes.total_cards | default(0) }} Cards**{% if
          board.attributes.overdue_cards | default(0) > 0 %} â€¢ âš ï¸ **{{
          board.attributes.overdue_cards }} Overdue**{% endif %}


          [Open Board in Trello â†—]({{ board.attributes.board_url }})

            {% for list_state in states.sensor %}
              {% if list_state.entity_id.startswith('sensor.trello_planetbuilders_house_diy_jobs_') %}

          ## ğŸ“ {{ list_state.name.replace('House Diy Jobs ', '') }} ({{
          states(list_state.entity_id) }})

                {% set cards = list_state.attributes.get('cards', []) %}
                {% if cards %}
                  {% for card in cards %}
                    {% if not card.closed and not card.due_complete %}

          ### {{ card.name }}

                      {% if card.due %}
          ğŸ—“ï¸ **Due:** {{ card.due[:10] }}{% if card.due < now().isoformat() %}
          âš ï¸ **OVERDUE**{% endif %}
                      {% endif %}
                      {% if card.labels %}
          ğŸ·ï¸ {{ card.labels | join(', ') }}
                      {% endif %}
                      {% if card.members %}
          ğŸ‘¤ {{ card.members | join(', ') }}
                      {% endif %}
                      {% if card.checklist_items > 0 %}
          âœ… Checklist: {{ card.checklist_items_checked }}/{{
          card.checklist_items }}
                      {% endif %}
                      {% if card.attachments > 0 %}
          ğŸ“ {{ card.attachments }} attachment{{ 's' if card.attachments != 1
          else '' }}
                      {% endif %}
                      {% if card.comments > 0 %}
          ğŸ’¬ {{ card.comments }} comment{{ 's' if card.comments != 1 else '' }}
                      {% endif %}
                      {% if card.description %}

          > {{ card.description[:150] }}{% if card.description | length > 150
          %}...{% endif %}
                      {% endif %}

          [Open Card â†—]({{ card.url }})

                    {% endif %}
                  {% endfor %}
                {% else %}

          *No cards in this list*
                {% endif %}
              {% endif %}
            {% endfor %}
          {% else %}


          Board sensor not found.

          {% endif %}
      - type: markdown
        content: >
          ---


          {% set board = states['sensor.trello_planetbuilders_personal_jobs'] %}

          {% if board %}

          # ğŸ“Š {{ board.name }}


          **{{ states(board.entity_id) }} Lists** â€¢ **{{
          board.attributes.total_cards | default(0) }} Cards**{% if
          board.attributes.overdue_cards | default(0) > 0 %} â€¢ âš ï¸ **{{
          board.attributes.overdue_cards }} Overdue**{% endif %}


          [Open Board in Trello â†—]({{ board.attributes.board_url }})

            {% for list_state in states.sensor %}
              {% if list_state.entity_id.startswith('sensor.trello_planetbuilders_personal_jobs_') %}

          ## ğŸ“ {{ list_state.name.replace('Personal Jobs ', '') }} ({{
          states(list_state.entity_id) }})

                {% set cards = list_state.attributes.get('cards', []) %}
                {% if cards %}
                  {% for card in cards %}
                    {% if not card.closed and not card.due_complete %}

          ### {{ card.name }}

                      {% if card.due %}
          ğŸ—“ï¸ **Due:** {{ card.due[:10] }}{% if card.due < now().isoformat() %}
          âš ï¸ **OVERDUE**{% endif %}
                      {% endif %}
                      {% if card.labels %}
          ğŸ·ï¸ {{ card.labels | join(', ') }}
                      {% endif %}
                      {% if card.members %}
          ğŸ‘¤ {{ card.members | join(', ') }}
                      {% endif %}
                      {% if card.checklist_items > 0 %}
          âœ… Checklist: {{ card.checklist_items_checked }}/{{
          card.checklist_items }}
                      {% endif %}
                      {% if card.attachments > 0 %}
          ğŸ“ {{ card.attachments }} attachment{{ 's' if card.attachments != 1
          else '' }}
                      {% endif %}
                      {% if card.comments > 0 %}
          ğŸ’¬ {{ card.comments }} comment{{ 's' if card.comments != 1 else '' }}
                      {% endif %}
                      {% if card.description %}

          > {{ card.description[:150] }}{% if card.description | length > 150
          %}...{% endif %}
                      {% endif %}

          [Open Card â†—]({{ card.url }})

                    {% endif %}
                  {% endfor %}
                {% else %}

          *No cards in this list*
                {% endif %}
              {% endif %}
            {% endfor %}
          {% else %}


          Board sensor not found.

          {% endif %}
